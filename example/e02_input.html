<html> 
<head> 
	<script type="text/javascript" src="js/SpriteEngine-min.js"></script> 
</head> 
<body> 
<canvas id="content_screen" style="border: none;" width="800" height="600"></canvas> 
<script> 
	//Setting up
	var engine = new SpriteEngine();
	engine.initialize('content_screen');

	//Load a texture
	var megamanSprite = null;

	//Asynchronously load an image
	var img = new Image();
	img.onload = function() { 
		megamanSprite = engine.createSprite(img); 
	};
	img.src = "img/megaman.png";

	var x = 0;
	var y = 0;

	//attach simple input
	engine.keyDown = function(keyCode) {
		if( keyCode == 65 ) //A
		{
			x -= 20;		
		}
		else if( keyCode == 68 ) //D
		{
			x += 20;
		}
		else if( keyCode == 83 ) //S
		{
			y += 20;
		}
		else if( keyCode == 87 ) //W
		{
			y -= 20;
		}
	}

	//Interesting stuff
	render_loop = function() {
		engine.setView();
		engine.clear();
		
		//wait til sprite is loaded
		if( megamanSprite != null ) {
			//draw sprite 
			engine.drawSprite(megamanSprite,x,y);
		}
	}
	
	engine.start(render_loop,60);
</script> 
</body> 
</html> 
